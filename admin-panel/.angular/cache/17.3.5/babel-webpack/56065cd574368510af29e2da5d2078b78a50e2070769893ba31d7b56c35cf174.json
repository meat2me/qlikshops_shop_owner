{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { BaseComponent } from '@components/base/base.component';\nimport { takeUntil } from 'rxjs/operators';\nimport { Logout } from '@core/redux/actions/auth.action';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@services/store.service\";\nimport * as i4 from \"@services/alert.service\";\nimport * as i5 from \"@ngrx/store\";\nimport * as i6 from \"@ngx-translate/core\";\nexport let AccountSettingComponent = /*#__PURE__*/(() => {\n  class AccountSettingComponent extends BaseComponent {\n    constructor(fb, router, storeServ, alertServ, store) {\n      super();\n      this.fb = fb;\n      this.router = router;\n      this.storeServ = storeServ;\n      this.alertServ = alertServ;\n      this.store = store;\n      this.buildForm();\n    }\n    ngOnInit() {\n      this.fetchValues();\n    }\n    canDeactivate() {\n      return this.accountForm.pristine;\n    }\n    buildForm() {\n      this.accountForm = this.fb.group({\n        contact_first_name: ['', [Validators.requiredTrue]],\n        contact_last_name: ['', [Validators.required]],\n        contact_email: ['', [Validators.required]],\n        phone_num: [{\n          value: '',\n          disabled: true\n        }],\n        is_pro_account: [null],\n        is_monthly_payment_plan: [null],\n        accept_credit_card: [{\n          value: null,\n          disabled: true\n        }],\n        has_private_domain: [{\n          value: null,\n          disabled: true\n        }],\n        private_domain: [{\n          value: null,\n          disabled: true\n        }],\n        has_integration_with_inventory: [{\n          value: null,\n          disabled: true\n        }]\n      });\n    }\n    fetchValues() {\n      this.storeServ.getAccountInfo().pipe(takeUntil(this.destroyed$)).subscribe(res => {\n        this.accountInfo = res;\n        this.accountForm.patchValue(res);\n      });\n    }\n    onCancel() {\n      this.alertServ.showDiscardChanges().then(() => {\n        this.router.navigate(['/home']);\n      });\n    }\n    onSubmit() {\n      this.storeServ.updateAccountInfo(this.accountForm.value).subscribe(() => {\n        this.accountForm.markAsPristine();\n        this.alertServ.showChangedSuccess();\n      }, err => {\n        alert(err.message);\n      });\n    }\n    logout() {\n      this.store.dispatch(new Logout());\n    }\n    static #_ = this.ɵfac = function AccountSettingComponent_Factory(t) {\n      return new (t || AccountSettingComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.StoreService), i0.ɵɵdirectiveInject(i4.AlertService), i0.ɵɵdirectiveInject(i5.Store));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AccountSettingComponent,\n      selectors: [[\"app-account-setting\"]],\n      features: [i0.ɵɵInheritDefinitionFeature],\n      decls: 177,\n      vars: 80,\n      consts: [[1, \"account-setting\", \"container\", \"p-4\", \"direction-right\"], [1, \"row\"], [1, \"col-12\", 3, \"ngSubmit\", \"formGroup\"], [1, \"container-fluid\", \"bg-light-gray\", \"rounded\", \"pt-3\", \"pb-5\"], [1, \"col-2\", \"mt-4\", \"order-12\", \"sticky-flex\"], [1, \"btn\", \"btn-primary\", \"w-100\"], [\"type\", \"button\", 1, \"btn\", \"btn-info\", \"w-100\", \"mt-3\", 3, \"click\"], [1, \"main\", \"col-10\"], [1, \"contact-section\", \"mx-2\"], [1, \"circle\", \"font-weight-bold\"], [1, \"mt-1\", \"bg-primary\"], [1, \"px-2\", \"py-4\", \"bg-super-light\", \"rounded\"], [1, \"d-flex\", \"align-items-center\"], [1, \"d-none\", \"d-md-block\", \"col-md-1\", \"col-lg-2\"], [1, \"col-4\", \"col-md-3\", \"col-lg-2\"], [\"for\", \"\", 1, \"mb-0\", \"w-100\"], [1, \"col-8\", \"col-md-7\"], [\"type\", \"text\", \"formControlName\", \"contact_first_name\", 1, \"form-control\"], [1, \"d-none\", \"d-md-block\", \"col-1\"], [1, \"d-flex\", \"align-items-center\", \"mt-3\"], [\"formControlName\", \"contact_last_name\", \"type\", \"text\", 1, \"form-control\"], [1, \"d-none\", \"d-md-block\", \"col-1\", \"col-lg-2\"], [\"type\", \"email\", \"formControlName\", \"contact_email\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"phone_num\", 1, \"form-control\"], [1, \"plan-services-section\", \"mx-2\", \"mt-3\"], [1, \"col-4\"], [1, \"col-3\"], [1, \"custom-control\", \"custom-radio\"], [\"type\", \"radio\", \"id\", \"accountStandard\", \"formControlName\", \"is_pro_account\", 1, \"custom-control-input\", 3, \"value\"], [\"for\", \"accountStandard\", 1, \"custom-control-label\"], [\"type\", \"radio\", \"id\", \"accountPro\", \"formControlName\", \"is_pro_account\", 1, \"custom-control-input\", 3, \"value\"], [\"for\", \"accountPro\", 1, \"custom-control-label\"], [\"type\", \"radio\", \"id\", \"monthly\", \"formControlName\", \"is_monthly_payment_plan\", 1, \"custom-control-input\", 3, \"value\"], [\"for\", \"monthly\", 1, \"custom-control-label\"], [\"type\", \"radio\", \"formControlName\", \"is_monthly_payment_plan\", \"id\", \"yearly\", 1, \"custom-control-input\", 3, \"value\"], [\"for\", \"yearly\", 1, \"custom-control-label\"], [1, \"col-auto\"], [1, \"custom-control\", \"custom-switch\"], [\"type\", \"checkbox\", \"formControlName\", \"accept_credit_card\", \"id\", \"accept-credit\", 1, \"custom-control-input\"], [\"for\", \"accept-credit\", 1, \"custom-control-label\"], [\"type\", \"checkbox\", \"formControlName\", \"has_private_domain\", \"id\", \"private-store\", 1, \"custom-control-input\"], [\"for\", \"private-store\", 1, \"custom-control-label\", \"w-100\"], [\"type\", \"checkbox\", \"id\", \"private-store\", \"formControlName\", \"has_private_domain\", 1, \"custom-control-input\"], [1, \"custom-control-label\", \"hide-switch\"], [\"formControlName\", \"private_domain\", \"type\", \"text\", 1, \"form-control\"], [\"type\", \"checkbox\", \"formControlName\", \"has_integration_with_inventory\", \"id\", \"integration\", 1, \"custom-control-input\"], [\"for\", \"integration\", 1, \"custom-control-label\"], [\"for\", \"\", 1, \"mb-0\"], [1, \"m-0\", \"h5\", \"font-weight-bold\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\"]],\n      template: function AccountSettingComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"form\", 2);\n          i0.ɵɵlistener(\"ngSubmit\", function AccountSettingComponent_Template_form_ngSubmit_2_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(3, \"div\", 3)(4, \"div\", 1)(5, \"div\", 4)(6, \"button\", 5);\n          i0.ɵɵtext(7);\n          i0.ɵɵpipe(8, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"button\", 6);\n          i0.ɵɵlistener(\"click\", function AccountSettingComponent_Template_button_click_9_listener() {\n            return ctx.onCancel();\n          });\n          i0.ɵɵtext(10);\n          i0.ɵɵpipe(11, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"button\", 6);\n          i0.ɵɵlistener(\"click\", function AccountSettingComponent_Template_button_click_12_listener() {\n            return ctx.logout();\n          });\n          i0.ɵɵtext(13);\n          i0.ɵɵpipe(14, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(15, \"div\", 7)(16, \"section\", 8)(17, \"h5\", 9);\n          i0.ɵɵtext(18);\n          i0.ɵɵpipe(19, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(20, \"hr\", 10);\n          i0.ɵɵelementStart(21, \"div\", 11)(22, \"div\", 12);\n          i0.ɵɵelement(23, \"div\", 13);\n          i0.ɵɵelementStart(24, \"div\", 14)(25, \"label\", 15);\n          i0.ɵɵtext(26);\n          i0.ɵɵpipe(27, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(28, \"div\", 16);\n          i0.ɵɵelement(29, \"input\", 17);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(30, \"div\", 18);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(31, \"div\", 19);\n          i0.ɵɵelement(32, \"div\", 13);\n          i0.ɵɵelementStart(33, \"div\", 14)(34, \"label\", 15);\n          i0.ɵɵtext(35);\n          i0.ɵɵpipe(36, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(37, \"div\", 16);\n          i0.ɵɵelement(38, \"input\", 20);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(39, \"div\", 18);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(40, \"div\", 19);\n          i0.ɵɵelement(41, \"div\", 21);\n          i0.ɵɵelementStart(42, \"div\", 14)(43, \"label\", 15);\n          i0.ɵɵtext(44);\n          i0.ɵɵpipe(45, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(46, \"div\", 16);\n          i0.ɵɵelement(47, \"input\", 22);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(48, \"div\", 18);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(49, \"div\", 19);\n          i0.ɵɵelement(50, \"div\", 21);\n          i0.ɵɵelementStart(51, \"div\", 14)(52, \"label\", 15);\n          i0.ɵɵtext(53);\n          i0.ɵɵpipe(54, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(55, \"div\", 16);\n          i0.ɵɵelement(56, \"input\", 23);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(57, \"div\", 18);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(58, \"section\", 24)(59, \"h5\", 9);\n          i0.ɵɵtext(60);\n          i0.ɵɵpipe(61, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(62, \"hr\", 10);\n          i0.ɵɵelementStart(63, \"div\", 11)(64, \"div\", 12);\n          i0.ɵɵelement(65, \"div\", 13);\n          i0.ɵɵelementStart(66, \"div\", 25)(67, \"label\", 15);\n          i0.ɵɵtext(68);\n          i0.ɵɵpipe(69, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(70, \"div\", 26)(71, \"div\", 27);\n          i0.ɵɵelement(72, \"input\", 28);\n          i0.ɵɵelementStart(73, \"label\", 29);\n          i0.ɵɵtext(74);\n          i0.ɵɵpipe(75, \"translate\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(76, \"div\", 26)(77, \"div\", 27);\n          i0.ɵɵelement(78, \"input\", 30);\n          i0.ɵɵelementStart(79, \"label\", 31);\n          i0.ɵɵtext(80);\n          i0.ɵɵpipe(81, \"translate\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(82, \"div\", 19);\n          i0.ɵɵelement(83, \"div\", 13);\n          i0.ɵɵelementStart(84, \"div\", 25)(85, \"label\", 15);\n          i0.ɵɵtext(86);\n          i0.ɵɵpipe(87, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(88, \"div\", 26)(89, \"div\", 27);\n          i0.ɵɵelement(90, \"input\", 32);\n          i0.ɵɵelementStart(91, \"label\", 33);\n          i0.ɵɵtext(92);\n          i0.ɵɵpipe(93, \"translate\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(94, \"div\", 26)(95, \"div\", 27);\n          i0.ɵɵelement(96, \"input\", 34);\n          i0.ɵɵelementStart(97, \"label\", 35);\n          i0.ɵɵtext(98);\n          i0.ɵɵpipe(99, \"translate\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(100, \"div\", 19);\n          i0.ɵɵelement(101, \"div\", 21);\n          i0.ɵɵelementStart(102, \"div\", 36)(103, \"div\", 37);\n          i0.ɵɵelement(104, \"input\", 38);\n          i0.ɵɵelementStart(105, \"label\", 39);\n          i0.ɵɵtext(106);\n          i0.ɵɵpipe(107, \"translate\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(108, \"div\", 19);\n          i0.ɵɵelement(109, \"div\", 21);\n          i0.ɵɵelementStart(110, \"div\", 36)(111, \"div\", 37);\n          i0.ɵɵelement(112, \"input\", 40);\n          i0.ɵɵelementStart(113, \"label\", 41);\n          i0.ɵɵtext(114);\n          i0.ɵɵpipe(115, \"translate\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(116, \"div\", 19);\n          i0.ɵɵelement(117, \"div\", 21);\n          i0.ɵɵelementStart(118, \"div\", 36)(119, \"div\", 37);\n          i0.ɵɵelement(120, \"input\", 42);\n          i0.ɵɵelementStart(121, \"label\", 43);\n          i0.ɵɵtext(122);\n          i0.ɵɵpipe(123, \"translate\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(124, \"div\", 16);\n          i0.ɵɵelement(125, \"input\", 44);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(126, \"div\", 18);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(127, \"div\", 19);\n          i0.ɵɵelement(128, \"div\", 21);\n          i0.ɵɵelementStart(129, \"div\", 36)(130, \"div\", 37);\n          i0.ɵɵelement(131, \"input\", 45);\n          i0.ɵɵelementStart(132, \"label\", 46);\n          i0.ɵɵtext(133);\n          i0.ɵɵpipe(134, \"translate\");\n          i0.ɵɵelementEnd()()()()()();\n          i0.ɵɵelementStart(135, \"section\", 24)(136, \"h5\", 9);\n          i0.ɵɵtext(137);\n          i0.ɵɵpipe(138, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(139, \"hr\", 10);\n          i0.ɵɵelementStart(140, \"div\", 11)(141, \"div\", 12);\n          i0.ɵɵelement(142, \"div\", 13);\n          i0.ɵɵelementStart(143, \"div\", 25)(144, \"label\", 47);\n          i0.ɵɵtext(145);\n          i0.ɵɵpipe(146, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(147, \"div\", 26)(148, \"p\", 48);\n          i0.ɵɵtext(149);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(150, \"div\", 18);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(151, \"div\", 19);\n          i0.ɵɵelement(152, \"div\", 13);\n          i0.ɵɵelementStart(153, \"div\", 25)(154, \"label\", 47);\n          i0.ɵɵtext(155);\n          i0.ɵɵpipe(156, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(157, \"div\", 26)(158, \"p\", 48);\n          i0.ɵɵtext(159);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(160, \"div\", 18);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(161, \"div\", 19);\n          i0.ɵɵelement(162, \"div\", 13);\n          i0.ɵɵelementStart(163, \"div\", 25)(164, \"label\", 47);\n          i0.ɵɵtext(165);\n          i0.ɵɵpipe(166, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(167, \"div\", 36)(168, \"label\");\n          i0.ɵɵtext(169);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(170, \"div\", 19);\n          i0.ɵɵelement(171, \"div\", 13)(172, \"div\", 25);\n          i0.ɵɵelementStart(173, \"div\", 36)(174, \"button\", 49);\n          i0.ɵɵtext(175);\n          i0.ɵɵpipe(176, \"translate\");\n          i0.ɵɵelementEnd()()()()()()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"formGroup\", ctx.accountForm);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 32, \"account-setting.save\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(11, 34, \"account-setting.cancel\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(14, 36, \"account-setting.logout\"));\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(19, 38, \"account-setting.contact_info\"));\n          i0.ɵɵadvance(8);\n          i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(27, 40, \"account-setting.first_name\"), \" \");\n          i0.ɵɵadvance(9);\n          i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(36, 42, \"account-setting.last_name\"), \" \");\n          i0.ɵɵadvance(9);\n          i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(45, 44, \"account-setting.email\"), \" \");\n          i0.ɵɵadvance(9);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(54, 46, \"account-setting.phone_number\"));\n          i0.ɵɵadvance(7);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(61, 48, \"account-setting.plan_service\"));\n          i0.ɵɵadvance(8);\n          i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(69, 50, \"account-setting.account_type\"), \" \");\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"value\", 0);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(75, 52, \"account-setting.standard\"));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"value\", 1);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(81, 54, \"account-setting.pro\"));\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(87, 56, \"account-setting.payment_plan\"), \" \");\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"value\", 0);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(93, 58, \"account-setting.monthly\"));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"value\", 1);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(99, 60, \"account-setting.yearly\"));\n          i0.ɵɵadvance(8);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(107, 62, \"account-setting.accept_credit_card\"));\n          i0.ɵɵadvance(8);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(115, 64, \"account-setting.set_store_private\"));\n          i0.ɵɵadvance(8);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(123, 66, \"account-setting.private_domain\"));\n          i0.ɵɵadvance(11);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(134, 68, \"account-setting.integration\"));\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(138, 70, \"account-setting.payment\"));\n          i0.ɵɵadvance(8);\n          i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(146, 72, \"account-setting.total_price\"), \" \");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate(ctx.accountInfo == null ? null : ctx.accountInfo.next_payment_amount);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(156, 74, \"account-setting.next_payment_due\"), \" \");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate(ctx.accountInfo == null ? null : ctx.accountInfo.next_payment_date);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(166, 76, \"account-setting.payment_by\"), \" \");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate(ctx.accountInfo == null ? null : ctx.accountInfo.payment_by);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(176, 78, \"account-setting.setup_payment\"));\n        }\n      },\n      dependencies: [i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.CheckboxControlValueAccessor, i1.RadioControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i6.TranslatePipe]\n    });\n  }\n  return AccountSettingComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}