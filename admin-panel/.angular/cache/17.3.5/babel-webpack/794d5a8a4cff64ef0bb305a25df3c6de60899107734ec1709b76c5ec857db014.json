{"ast":null,"code":"import { selectAuthState } from '@core/redux/app.states';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./base.service\";\nimport * as i2 from \"@ngrx/store\";\nimport * as i3 from \"./store.service\";\nexport let AuthService = /*#__PURE__*/(() => {\n  class AuthService {\n    constructor(apiService, store, storeServ) {\n      this.apiService = apiService;\n      this.store = store;\n      this.storeServ = storeServ;\n    }\n    sendNumber(countryCode, phone) {\n      const body = {\n        request: 'send_sms_code',\n        phone_num: phone,\n        country_code: countryCode\n      };\n      return this.apiService.post(body);\n    }\n    verifySMSCode(countryCode, phone, verificationCode) {\n      const body = {\n        request: 'verify_sms_code',\n        phone_num: phone,\n        country_code: countryCode,\n        verification_code: verificationCode\n      };\n      return this.apiService.post(body);\n    }\n    logIn(authKey) {\n      const body = {\n        request: 'login_with_phone',\n        auth_key: authKey,\n        os_type: 3\n      };\n      return this.apiService.post(body);\n    }\n    registration(user) {\n      const body = {\n        request: 'register_with_phone',\n        auth_key: user.auth_key,\n        name: user.name,\n        os_type: 3\n      };\n      return this.apiService.post(body);\n    }\n    logout() {\n      const body = {\n        request: 'logout'\n      };\n      return this.apiService.post(body);\n    }\n    getOwnProfile(token) {\n      const body = {\n        request: 'get_own_profile'\n      };\n      if (token) {\n        return this.apiService.post({\n          ...body,\n          token\n        });\n      } else {\n        return this.apiService.post(body);\n      }\n    }\n    getUserType() {\n      let userType;\n      this.store.select(selectAuthState).subscribe(state => {\n        console.log(state);\n        if (state.user_type) {\n          userType = state.user_type;\n        }\n      });\n      return userType;\n    }\n    // ba6178384a3ec2ac82a80f946038608f90bc98625cf0c35d4b190165826e33d2 admin\n    isAdmin() {\n      if (this.getUserType() === 1) {\n        return true;\n      }\n      return false;\n    }\n    static #_ = this.ɵfac = function AuthService_Factory(t) {\n      return new (t || AuthService)(i0.ɵɵinject(i1.BaseService), i0.ɵɵinject(i2.Store), i0.ɵɵinject(i3.StoreService));\n    };\n    static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: AuthService,\n      factory: AuthService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return AuthService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}