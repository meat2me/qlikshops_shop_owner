{"ast":null,"code":"import { Logout } from '@core/redux/actions/auth.action';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@services/store.service\";\nimport * as i2 from \"@ngrx/store\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../components/rate-chart/rate-chart.component\";\nimport * as i6 from \"@ngx-translate/core\";\nfunction HomeComponent_div_1_button_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 31);\n    i0.ɵɵelement(1, \"i\", 32);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 1, \"dashboard.online\"), \" \");\n  }\n}\nfunction HomeComponent_div_1_button_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 33);\n    i0.ɵɵelement(1, \"i\", 34);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 1, \"dashboard.offline\"), \" \");\n  }\n}\nfunction HomeComponent_div_1_app_rate_chart_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-rate-chart\", 35);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"clients\", ctx_r0.clientsPerMonth)(\"orders\", ctx_r0.ordersPerMonth);\n  }\n}\nfunction HomeComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"div\", 4);\n    i0.ɵɵelement(3, \"hr\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 6)(5, \"div\", 7)(6, \"h5\", 8);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, HomeComponent_div_1_button_12_Template, 4, 3, \"button\", 9)(13, HomeComponent_div_1_button_13_Template, 4, 3, \"button\", 10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 11)(15, \"div\", 12)(16, \"h1\", 13);\n    i0.ɵɵelement(17, \"i\", 14);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"p\", 15);\n    i0.ɵɵtext(20);\n    i0.ɵɵpipe(21, \"translate\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"div\", 16)(23, \"div\", 17)(24, \"h1\", 13);\n    i0.ɵɵelement(25, \"i\", 18);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"p\", 15);\n    i0.ɵɵtext(28);\n    i0.ɵɵpipe(29, \"translate\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(30, \"div\", 16)(31, \"div\", 17)(32, \"h1\", 13)(33, \"span\", 19);\n    i0.ɵɵtext(34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"p\", 15);\n    i0.ɵɵtext(37);\n    i0.ɵɵpipe(38, \"translate\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(39, \"div\", 20)(40, \"div\", 17)(41, \"div\", 21)(42, \"div\", 3)(43, \"div\", 22)(44, \"h1\", 13);\n    i0.ɵɵelement(45, \"i\", 23);\n    i0.ɵɵtext(46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(47, \"p\", 15);\n    i0.ɵɵtext(48);\n    i0.ɵɵpipe(49, \"translate\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(50, \"div\", 24);\n    i0.ɵɵelement(51, \"img\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(52, \"div\", 26)(53, \"h1\", 13);\n    i0.ɵɵtext(54);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(55, \"p\", 15);\n    i0.ɵɵtext(56);\n    i0.ɵɵpipe(57, \"translate\");\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(58, \"div\", 27)(59, \"div\", 28)(60, \"h5\", 29);\n    i0.ɵɵtext(61);\n    i0.ɵɵpipe(62, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(63, HomeComponent_div_1_app_rate_chart_63_Template, 1, 2, \"app-rate-chart\", 30);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(8, 17, \"dashboard.store_status\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(11, 19, \"dashboard.desc\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.data.is_online);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.data.is_online);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.data.open_orders, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(21, 21, \"dashboard.open_orders\"), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.data.total_ordes, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(29, 23, \"dashboard.total_orders\"), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.currency, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.data.total_ordes_cost, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(38, 25, \"dashboard.total_orders_cost\"), \" \");\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.data.total_clients, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(49, 27, \"dashboard.total_clients\"), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.data.returning_clients, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(57, 29, \"dashboard.returning_clients\"), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(62, 31, \"dashboard.general\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.data);\n  }\n}\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(storeService, store, route) {\n      this.storeService = storeService;\n      this.store = store;\n      this.route = route;\n      this.is_online = false;\n    }\n    ngOnInit() {\n      this.currency = localStorage.getItem('CURRENCY');\n      this.identifyLocation();\n      this.chooseDashDataMode();\n      this.onListenDashboardUpdate();\n    }\n    getStoreDashboardData(storeId) {\n      this.storeService.getDashboard(storeId).subscribe(res => {\n        this.data = res;\n        this.clientsPerMonth = res.clients_per_month;\n        this.ordersPerMonth = res.orders_per_month;\n      });\n    }\n    getAllStoreDashboard() {\n      this.storeService.getDashboard().subscribe(res => {\n        this.data = res;\n        this.clientsPerMonth = res.clients_per_month;\n        this.ordersPerMonth = res.orders_per_month;\n      });\n    }\n    identifyLocation() {\n      this.route.paramMap.subscribe(params => {\n        const location = params.get('role');\n        if (location == 'shop-page') {\n          this.storeService.getSidebarChange(true);\n        }\n      });\n    }\n    chooseDashDataMode() {\n      const storeId = localStorage.getItem('STORE_ID');\n      if (storeId) {\n        this.getStoreDashboardData(storeId);\n      } else {\n        this.getAllStoreDashboard();\n      }\n    }\n    onListenDashboardUpdate() {\n      this.storeService.updateDashboard.subscribe(res => {\n        res ? this.chooseDashDataMode() : null;\n      });\n    }\n    clearCache() {\n      this.data = null;\n      this.clientsPerMonth = null;\n      this.ordersPerMonth = null;\n    }\n    out() {\n      this.store.dispatch(new Logout());\n    }\n    static #_ = this.ɵfac = function HomeComponent_Factory(t) {\n      return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.StoreService), i0.ɵɵdirectiveInject(i2.Store), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: HomeComponent,\n      selectors: [[\"app-home\"]],\n      decls: 2,\n      vars: 1,\n      consts: [[1, \"dashboard\", \"p-4\"], [\"class\", \"container bg-light-gray rounded\", 4, \"ngIf\"], [1, \"container\", \"bg-light-gray\", \"rounded\"], [1, \"row\"], [1, \"col-12\", \"p-4\"], [1, \"bg-primary\", \"w-100\"], [1, \"col-xl-8\", \"col-lg-7\", \"col-12\", \"mb-4\", \"direction-right\"], [1, \"store-status\", \"p-4\", \"bg-super-light\", \"rounded\"], [1, \"font-weight-bold\", \"my-2\"], [\"class\", \"btn btn-primary w-100 font-weight-bold\", 4, \"ngIf\"], [\"class\", \"btn btn-danger w-100 font-weight-bold\", 4, \"ngIf\"], [1, \"col-xl-4\", \"col-lg-5\", \"col-12\", \"mb-4\", \"direction-right\"], [1, \"statistical\", \"p-4\", \"bg-super-light\", \"rounded\", \"h-100\"], [1, \"font-weight-bold\", \"mt-4\", \"word-break\"], [1, \"fas\", \"fa-file\", \"mr-2\", \"text-primary\"], [1, \"text-primary\", \"m-0\"], [1, \"col-xl-6\", \"col-lg-6\", \"col-12\", \"mb-4\", \"direction-right\"], [1, \"statistical\", \"p-4\", \"bg-super-light\", \"rounded\"], [1, \"fas\", \"fa-cubes\", \"mr-2\", \"text-primary\"], [1, \"text-primary\"], [1, \"col-lg-12\", \"col-12\", \"mb-4\", \"direction-right\"], [1, \"container\"], [1, \"col-5\", \"p-0\"], [1, \"fas\", \"fas\", \"fa-user\", \"text-primary\", \"mr-2\"], [1, \"col-3\", \"p-0\"], [\"src\", \"assets/images/return.svg\", \"alt\", \"#\", 1, \"w-100\", 2, \"height\", \"110px\", \"object-fit\", \"contain\"], [1, \"col-4\", \"text-center\", \"p-0\"], [1, \"col-12\", \"col-lg-12\", \"mb-4\", \"direction-right\"], [1, \"chart\", \"p-4\", \"bg-super-light\", \"rounded\"], [1, \"font-weight-bold\"], [3, \"clients\", \"orders\", 4, \"ngIf\"], [1, \"btn\", \"btn-primary\", \"w-100\", \"font-weight-bold\"], [1, \"fas\", \"fa-wifi\"], [1, \"btn\", \"btn-danger\", \"w-100\", \"font-weight-bold\"], [1, \"fas\", \"fa-user-slash\"], [3, \"clients\", \"orders\"]],\n      template: function HomeComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, HomeComponent_div_1_Template, 64, 33, \"div\", 1);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.data);\n        }\n      },\n      dependencies: [i4.NgIf, i5.RateChartComponent, i6.TranslatePipe],\n      styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%]; (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  {// webpackBootstrap var __webpack_modules__ = ({317: (() => {throw new Error('Module build failed (from ./node_modules/sass-loader/dist/cjs.js):nCan\\\\'t find stylesheet to import.n  \\\\2577n1 \\\\2502  @import \\\"src/assets/scss/app-variables\\\";n  \\\\2502          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^n  \\\\2575n  src/app/routes/home/home.component.scss 1:9  root stylesheet');})}); // startup // Load entry module and return exports // This entry module doesn\\\"t tell about it\\\"s top-level declarations so it can't be inlined\\nvar __webpack_exports__ = {}; __webpack_modules__[317](); resource = __webpack_exports__;})()[_ngcontent-%COMP%]   ;[_ngcontent-%COMP%]{}\"]\n    });\n  }\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}