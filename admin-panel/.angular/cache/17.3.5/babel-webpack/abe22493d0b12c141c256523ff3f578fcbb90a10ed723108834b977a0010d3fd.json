{"ast":null,"code":"import _asyncToGenerator from \"/Users/roipk/Documents/TeamWork/qlikshops_shop_owner/admin-panel/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { takeUntil, map } from 'rxjs/operators';\nimport { FormGroup, Validators, FormControl } from '@angular/forms';\nimport { BaseComponent } from '@components/base/base.component';\nimport { combineLatest, of } from 'rxjs';\nimport { fieldRemover } from '@utils/sanitizer';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@services/alert.service\";\nimport * as i4 from \"@services/item.service\";\nimport * as i5 from \"@services/category.service\";\nimport * as i6 from \"@services/breadcrumb.service\";\nimport * as i7 from \"@services/auth.service\";\nimport * as i8 from \"@services/language.service\";\nimport * as i9 from \"@angular/common\";\nimport * as i10 from \"@ng-select/ng-select\";\nimport * as i11 from \"../../components/image-input/image-input.component\";\nimport * as i12 from \"../../components/tree-input/tree-input.component\";\nimport * as i13 from \"@ngx-translate/core\";\nfunction ContentAddItemComponent_button_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 56);\n    i0.ɵɵlistener(\"click\", function ContentAddItemComponent_button_16_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onDeleteItem());\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", (ctx_r1.validValues == null ? null : ctx_r1.validValues.is_deletable) == 0);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 2, \"content-add-item.delete\"), \" \");\n  }\n}\nfunction ContentAddItemComponent_div_103_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"content-add-item.click_select\"), \" \");\n  }\n}\nfunction ContentAddItemComponent_div_113_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 62)(1, \"button\", 63);\n    i0.ɵɵlistener(\"click\", function ContentAddItemComponent_div_113_div_4_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const i_r4 = i0.ɵɵnextContext().index;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.deleteCategory(i_r4));\n    });\n    i0.ɵɵelement(2, \"i\", 64);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", ctx_r1.categoryArrCtrl.length === 1);\n  }\n}\nfunction ContentAddItemComponent_div_113_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 58)(1, \"div\", 59);\n    i0.ɵɵelement(2, \"app-tree-input\", 60);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, ContentAddItemComponent_div_113_div_4_Template, 3, 1, \"div\", 61);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r4 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"mt-3\", i_r4);\n    i0.ɵɵproperty(\"formGroupName\", i_r4);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"placeholder\", i0.ɵɵpipeBind1(3, 7, \"content-add-item.select\"))(\"nodeData\", ctx_r1.categories || null)(\"isAdmin\", ctx_r1.isAdmin);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isAdmin);\n  }\n}\nfunction ContentAddItemComponent_button_114_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 65);\n    i0.ɵɵlistener(\"click\", function ContentAddItemComponent_button_114_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.pushCategory());\n    });\n    i0.ɵɵelement(1, \"i\", 66);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r1.categoryArrCtrl.invalid);\n  }\n}\nfunction ContentAddItemComponent_div_126_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 67);\n    i0.ɵɵelement(1, \"input\", 68);\n    i0.ɵɵelementStart(2, \"label\", 69);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const i_r6 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroupName\", i_r6);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"value\", ctx_r1.listOptions[i_r6].name)(\"id\", ctx_r1.listOptions[i_r6].id);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"for\", ctx_r1.listOptions[i_r6].id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.listOptions[i_r6].name, \" \");\n  }\n}\nfunction ContentAddItemComponent_div_127_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 67);\n    i0.ɵɵelement(1, \"input\", 72);\n    i0.ɵɵelementStart(2, \"label\", 69);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const i_r7 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"formGroupName\", i_r7);\n    i0.ɵɵadvance();\n    i0.ɵɵpropertyInterpolate1(\"id\", \"stores-\", i_r7, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵpropertyInterpolate1(\"for\", \"stores-\", i_r7, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.listStores[i_r7].name, \" \");\n  }\n}\nfunction ContentAddItemComponent_div_127_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵelement(1, \"div\", 41);\n    i0.ɵɵelementStart(2, \"div\", 16)(3, \"label\", 42);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerStart(6, 70);\n    i0.ɵɵelementStart(7, \"div\", 71);\n    i0.ɵɵtemplate(8, ContentAddItemComponent_div_127_div_8_Template, 4, 6, \"div\", 54);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(5, 2, \"content-add-item.assign_store\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.storeControls.controls);\n  }\n}\nexport let ContentAddItemComponent = /*#__PURE__*/(() => {\n  class ContentAddItemComponent extends BaseComponent {\n    get isEdit() {\n      return !!this.data;\n    }\n    get nameCtrl() {\n      return this.form.controls.name;\n    }\n    get brandCtrl() {\n      return this.form.controls.brand;\n    }\n    get unitCtrl() {\n      return this.form.controls.unit;\n    }\n    get descriptionCtrl() {\n      return this.form.controls.description;\n    }\n    get priceCtrl() {\n      return this.form.controls.price;\n    }\n    get salePriceCtrl() {\n      return this.form.controls.sale_price;\n    }\n    get salePriceCheckCtrl() {\n      return this.form.controls.sale_price_check;\n    }\n    get inStockCtrl() {\n      return this.form.controls.is_in_stock;\n    }\n    get categoryArrCtrl() {\n      return this.form.controls.categories;\n    }\n    get imagesArrCtrl() {\n      return this.form.controls.image;\n    }\n    get optionsArrCtrl() {\n      return this.form.controls.list_options;\n    }\n    get formValue() {\n      return this.sanitizer(this.form.value);\n    }\n    constructor(fb, router, route, alertServ, itemServ, catServ, breadcrumbServ, authServ, langServ) {\n      super();\n      this.fb = fb;\n      this.router = router;\n      this.route = route;\n      this.alertServ = alertServ;\n      this.itemServ = itemServ;\n      this.catServ = catServ;\n      this.breadcrumbServ = breadcrumbServ;\n      this.authServ = authServ;\n      this.langServ = langServ;\n      this.listOptions = [];\n      this.isAdmin = this.authServ.isAdmin();\n      this.listStores = [];\n      this.sanitizer = fieldRemover(['sale_price_check', 'list_options']);\n      this.sanitizerOwner = fieldRemover(['name', 'unit', 'description', 'categories', 'image_name']);\n    }\n    canDeactivate() {\n      return this.form.pristine;\n    }\n    ngOnInit() {\n      this.route.paramMap.subscribe(params => {\n        const location = params.get('location');\n        if (location === 'shop-page') {\n          this.isAdmin = false;\n          this.storeId = localStorage.getItem('STORE_ID').toString();\n        }\n      });\n      this.buildForm();\n      this.loadData();\n      this.form.valueChanges.subscribe(() => {});\n    }\n    loadData() {\n      this.itemId = this.route.snapshot.params.id;\n      this.isAdmin ? combineLatest([this.catServ.getAdminCategories().pipe(map(res => res.categories)), this.itemId ? this.itemServ.getAdminItem(this.itemId) : of(null), this.itemId ? of(null) : this.itemServ.getItemValidValues()]).pipe(takeUntil(this.destroyed$)).subscribe(([categories, item, validValues]) => {\n        this.validValues = validValues || item.valid_values;\n        this.categories = categories;\n        this.data = item;\n        if (item?.stores) {\n          this._initStoreAssign(item.stores);\n        }\n        if (validValues?.stores) {\n          this._initStoreAssign(validValues.stores);\n        }\n        for (const key in this.validValues.options) {\n          if (this.validValues.options.hasOwnProperty(key)) {\n            this.listOptions.push({\n              id: key,\n              name: this.validValues.options[key]\n            });\n          }\n        }\n        this.listOptions.forEach(el => {\n          this.optionsArrCtrl.push(this.createItemOptsForm(el.id, el.name));\n        });\n        this.data && (this.data.item_id = this.itemId);\n        this.isEdit && this.buildEdit();\n      }) : combineLatest([this.catServ.getCategories(this.storeId).pipe(map(res => res.categories)), this.itemId ? this.itemServ.getOwnerItem(this.itemId, this.storeId) : of(null), this.itemId ? of(null) : this.itemServ.getItemValidValues()]).pipe(takeUntil(this.destroyed$)).subscribe(([categories, item, validValues]) => {\n        console.log(item);\n        this.validValues = validValues || item.valid_values;\n        this.categories = categories;\n        this.data = item;\n        for (const key in this.validValues.options) {\n          if (this.validValues.options.hasOwnProperty(key)) {\n            this.listOptions.push({\n              id: key,\n              name: this.validValues.options[key]\n            });\n          }\n        }\n        this.listOptions.forEach(el => {\n          this.optionsArrCtrl.push(this.createItemOptsForm(el.id, el.name));\n        });\n        this.data && (this.data.item_id = this.itemId);\n        this.isEdit && this.buildEdit();\n      });\n    }\n    buildForm() {\n      this.form = this.fb.group({\n        name: [null],\n        brand: [null],\n        unit: [null],\n        description: [null],\n        price: [null],\n        sale_price: [{\n          value: null,\n          disabled: true\n        }],\n        sale_price_check: [false],\n        is_in_stock: [true],\n        categories: this.fb.array([this.createCategory()], [Validators.minLength(1)]),\n        image: [''],\n        image_name: [''],\n        options: [''],\n        stores: this.fb.array([]),\n        list_options: this.fb.array([]),\n        fixed_weight_gram: ['']\n      });\n      this.settingSwitchers();\n    }\n    buildEdit() {\n      this.updateBreadcrumb();\n      this.patchValues();\n    }\n    updateBreadcrumb() {\n      const {\n        name: label,\n        item_id\n      } = this.data;\n      this.breadcrumbServ.pushBreadcrumb({\n        label,\n        url: `/content/items/edit-item/${item_id}`\n      });\n    }\n    patchValues() {\n      this.patchOptions();\n      this.patchCategories();\n      this.form.patchValue({\n        image: this.data.images[0]?.image\n      });\n      this.form.markAsPristine();\n      this.form.patchValue(this.data);\n    }\n    patchCategories() {\n      const catArrCtrl = this.categoryArrCtrl;\n      catArrCtrl.clear();\n      this.data.categories.forEach((c, i) => {\n        catArrCtrl.setControl(i, this.createCategory(c.category_id));\n      });\n    }\n    patchOptions() {\n      const listOp = this.data.options.split(',');\n      const optArrCtrl = this.optionsArrCtrl;\n      optArrCtrl.clear();\n      this.listOptions.forEach((o, i) => {\n        // const id = parseInt(o.id);\n        if (listOp.includes(o.id)) {\n          this.optionsArrCtrl.setControl(i, this.createItemOptsForm(o.id, o.name, true));\n        } else {\n          this.optionsArrCtrl.setControl(i, this.createItemOptsForm(o.id, o.name));\n        }\n      });\n    }\n    createCategory(value = null) {\n      return this.fb.group({\n        category_id: [value, [Validators.required]]\n      });\n    }\n    createItemOptsForm(id = null, name = null, option_check = false) {\n      return this.fb.group({\n        id: [id],\n        name: [name],\n        option_check: [option_check]\n      });\n    }\n    get formattedItemOpts() {\n      return this.optionsArrCtrl.value.filter(x => x.option_check === true).map(x => x.id).join(',');\n    }\n    pushCategory() {\n      this.categoryArrCtrl.push(this.createCategory());\n    }\n    deleteCategory(i) {\n      this.categoryArrCtrl.removeAt(i);\n    }\n    onSubmit() {\n      this.form.controls.options.setValue(this.formattedItemOpts);\n      this.form.controls.stores.setValue(this.storeControls.value);\n      this.itemServ.addItem(this.formValue).subscribe({\n        next: this.onSubmitSuccess.bind(this),\n        error: this.onError.bind(this)\n      });\n    }\n    onSubmitSuccess() {\n      this.form.markAsPristine();\n      this.form.markAsUntouched();\n      this.moveBackToItemList();\n    }\n    onEditSubmit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        const a = yield _this.alertServ.showConfirmChanges();\n        if (!a) {\n          return;\n        }\n        const req = _this.formValue;\n        req.item_id = _this.data.item_id;\n        req.options = _this.formattedItemOpts;\n        const modImages = _this.getModifiedImages();\n        if (modImages !== null) {\n          req.image = modImages.new_images;\n        } else {\n          delete req.image;\n        }\n        _this.isAdmin ? _this.itemServ.updateItem(req).subscribe({\n          next: _this.onEditSuccess.bind(_this),\n          error: _this.onError.bind(_this)\n        }) : _this.itemServ.setStoreItem(_this.sanitizerOwner(req), _this.storeId).subscribe({\n          next: _this.onEditSuccess.bind(_this),\n          error: _this.onError.bind(_this)\n        });\n      })();\n    }\n    onEditSuccess() {\n      this.alertServ.showChangedSuccess();\n      this.form.markAsPristine();\n      if (this.isAdmin) {\n        localStorage.itemId = this.itemId;\n      }\n    }\n    onDeleteItem() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        const a = yield _this2.alertServ.showConfirm('modal.delete_item_title', 'modal.delete_item_content', false);\n        if (!a) {\n          return;\n        }\n        _this2.itemServ.deleteItem(_this2.itemId).subscribe({\n          next: _this2.onDeleteItemSuccess.bind(_this2),\n          error: _this2.onError.bind(_this2)\n        });\n      })();\n    }\n    onDeleteItemSuccess() {\n      this.alertServ.showDeleteSuccess().then(() => {\n        localStorage.deleteItem = 1;\n        window.close();\n      });\n    }\n    onError(err) {\n      this.alertServ.showAlert(err.message, err.param || err.message);\n    }\n    getModifiedImages() {\n      if (this.imagesArrCtrl.pristine) {\n        return null;\n      }\n      const imageCtrl = this.imagesArrCtrl;\n      let new_images = null;\n      if (imageCtrl.dirty) {\n        new_images = this.imagesArrCtrl.value;\n      }\n      return {\n        new_images\n      };\n    }\n    onEditCancel() {\n      this.moveBackToItemList();\n    }\n    get preprocessedData() {\n      return this.form.getRawValue();\n    }\n    moveBackToItemList() {\n      this.router.navigate(['/content', 'items', 'admin-page']);\n    }\n    settingSwitchers() {\n      this.settingSalePriceCtrl();\n    }\n    settingSalePriceCtrl() {\n      this.settingSwitchCtrl(this.salePriceCheckCtrl, this.salePriceCtrl);\n    }\n    settingSwitchCtrl(sw, ctrl) {\n      sw.valueChanges.subscribe(enabled => {\n        if (enabled) {\n          ctrl.enable({\n            emitEvent: false\n          });\n        } else {\n          ctrl.disable({\n            emitEvent: false\n          });\n          ctrl.setValue(null, {\n            emitEvent: false\n          });\n        }\n      });\n      ctrl.valueChanges.subscribe(value => {\n        if (value !== null) {\n          sw.setValue(true, {\n            checked: true\n          });\n        }\n      });\n    }\n    get isRTL() {\n      return this.langServ.isRtl;\n    }\n    // *checkbox store sections\n    get storeControls() {\n      return this.form.get('stores');\n    }\n    _createStoreCheckboxForm() {\n      return new FormGroup({\n        is_available: new FormControl(0),\n        name: new FormControl(null),\n        store_code: new FormControl(null),\n        store_id: new FormControl(null)\n      });\n    }\n    _getStoreControls(index) {\n      return this.storeControls.at(index);\n    }\n    _initStoreAssign(stores) {\n      this.listStores = stores;\n      this.listStores.forEach(el => {\n        this.storeControls.push(this._createStoreCheckboxForm());\n      });\n      this.form.patchValue({\n        stores: this.listStores\n      });\n    }\n    static #_ = this.ɵfac = function ContentAddItemComponent_Factory(t) {\n      return new (t || ContentAddItemComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.AlertService), i0.ɵɵdirectiveInject(i4.ItemService), i0.ɵɵdirectiveInject(i5.CategoryService), i0.ɵɵdirectiveInject(i6.BreadcrumbService), i0.ɵɵdirectiveInject(i7.AuthService), i0.ɵɵdirectiveInject(i8.LanguageService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ContentAddItemComponent,\n      selectors: [[\"app-content-add-item\"]],\n      features: [i0.ɵɵInheritDefinitionFeature],\n      decls: 128,\n      vars: 73,\n      consts: [[1, \"account-setting\", \"p-4\", \"direction-right\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"container-fluid\", \"bg-light-gray\", \"rounded\", \"pt-3\", \"pb-5\"], [1, \"row\"], [1, \"col-2\", \"mt-4\", \"order-12\", \"sticky-flex\"], [1, \"custom-control\", \"custom-switch\"], [\"type\", \"checkbox\", \"formControlName\", \"is_in_stock\", \"id\", \"in_stock\", 1, \"custom-control-input\"], [\"for\", \"in_stock\", 1, \"custom-control-label\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"w-100\", \"mt-3\"], [\"type\", \"button\", 1, \"btn\", \"btn-info\", \"w-100\", \"mt-3\", 3, \"click\"], [\"class\", \"btn btn-danger w-100 mt-3\", \"type\", \"button\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [1, \"main\", \"col-10\"], [1, \"contact-section\", \"mx-2\"], [1, \"px-2\", \"py-4\", \"bg-super-light\", \"rounded\"], [1, \"d-flex\", \"align-items-center\"], [1, \"d-none\", \"d-md-block\", \"col-md-1\", \"col-lg-2\"], [1, \"col-4\", \"col-md-3\", \"col-lg-2\"], [\"for\", \"name\", 1, \"mb-0\"], [1, \"col-7\"], [\"type\", \"text\", \"formControlName\", \"name\", \"id\", \"name\", 1, \"form-control\", 3, \"readonly\"], [1, \"col-auto\"], [1, \"d-flex\", \"align-items-center\", \"mt-3\"], [\"for\", \"brand\", 1, \"mb-0\"], [\"type\", \"text\", \"formControlName\", \"brand\", \"id\", \"brand\", 1, \"form-control\", 3, \"readonly\"], [1, \"d-flex\", \"mt-3\"], [\"for\", \"units\", 1, \"mb-0\"], [\"id\", \"units\", \"notFoundText\", \"Not found\", \"bindValue\", \"value\", \"formControlName\", \"unit\", 3, \"placeholder\", \"items\", \"readonly\"], [\"for\", \"price_per_unit\", 1, \"mb-0\"], [1, \"d-flex\", \"align-items-center\", \"col-8\", \"col-md-7\"], [1, \"col-auto\", \"col-md-10\", \"px-0\"], [\"id\", \"price_per_unit\", \"formControlName\", \"price\", \"pattern\", \"^(?:[1-9]\\\\d*|0)?(?:\\\\.\\\\d+)?$\", \"type\", \"number\", 1, \"form-control\", 3, \"min\"], [1, \"col-auto\", \"mx-auto\"], [1, \"m-0\"], [1, \"d-none\", \"d-md-block\", \"col-1\"], [\"type\", \"checkbox\", \"formControlName\", \"sale_price_check\", \"id\", \"price_check\", 1, \"custom-control-input\"], [\"for\", \"price_check\", 1, \"custom-control-label\"], [\"formControlName\", \"sale_price\", \"type\", \"number\", 1, \"form-control\"], [\"for\", \"description\", 1, \"mb-0\"], [1, \"col-8\", \"col-md-7\"], [\"id\", \"fixed-weight-gram\", \"formControlName\", \"fixed_weight_gram\", \"pattern\", \"^(?:[1-9]\\\\d*|0)?(?:\\\\.\\\\d+)?$\", \"type\", \"number\", 1, \"form-control\", 3, \"min\"], [\"id\", \"description\", \"formControlName\", \"description\", \"type\", \"text\", 1, \"form-control\", 3, \"readonly\"], [1, \"d-none\", \"d-md-block\", \"col-1\", \"col-lg-2\"], [\"for\", \"\", 1, \"mb-0\"], [1, \"col-8\", \"col-md-7\", \"d-flex\"], [3, \"formArrayName\"], [1, \"col-2\"], [3, \"formGroup\", \"blocked\"], [\"class\", \"col d-flex align-items-center\", 4, \"ngIf\"], [\"formArrayName\", \"categories\"], [\"class\", \"d-flex mt-3 align-items-center justify-content-between\", 3, \"formGroupName\", \"mt-3\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", \"class\", \"btn btn-primary mt-3 px-4 py-1\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"formArrayName\", \"list_options\"], [1, \"col-8\", \"col-md-8\", \"custom-control\", \"custom-checkbox\"], [1, \"container-fluid\"], [\"id\", \"option-checkbox\", \"class\", \"col-6 mb-2\", 3, \"formGroupName\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"d-flex mt-3\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", \"w-100\", \"mt-3\", 3, \"click\", \"disabled\"], [1, \"col\", \"d-flex\", \"align-items-center\"], [1, \"d-flex\", \"mt-3\", \"align-items-center\", \"justify-content-between\", 3, \"formGroupName\"], [1, \"col-auto\", \"col-md-10\", \"col-lg-11\", \"pl-0\"], [\"formControlName\", \"category_id\", \"bindValue\", \"category_id\", 3, \"placeholder\", \"nodeData\", \"isAdmin\"], [\"class\", \"col-auto px-0\", 4, \"ngIf\"], [1, \"col-auto\", \"px-0\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\", \"disabled\"], [1, \"fas\", \"fa-trash\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"mt-3\", \"px-4\", \"py-1\", 3, \"click\", \"disabled\"], [1, \"fas\", \"fa-plus\"], [\"id\", \"option-checkbox\", 1, \"col-6\", \"mb-2\", 3, \"formGroupName\"], [\"type\", \"checkbox\", \"formControlName\", \"option_check\", 1, \"custom-control-input\", 3, \"value\", \"id\"], [1, \"custom-control-label\", \"cursor-pointer\", 3, \"for\"], [\"formArrayName\", \"stores\"], [\"id\", \"store-checkbox\", 1, \"col-8\", \"col-md-8\", \"custom-control\", \"custom-checkbox\"], [\"type\", \"checkbox\", \"formControlName\", \"is_available\", 1, \"custom-control-input\", 3, \"id\"]],\n      template: function ContentAddItemComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n          i0.ɵɵlistener(\"ngSubmit\", function ContentAddItemComponent_Template_form_ngSubmit_1_listener() {\n            return ctx.isEdit ? ctx.onEditSubmit() : ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5);\n          i0.ɵɵelement(6, \"input\", 6);\n          i0.ɵɵelementStart(7, \"label\", 7);\n          i0.ɵɵtext(8);\n          i0.ɵɵpipe(9, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(10, \"button\", 8);\n          i0.ɵɵtext(11);\n          i0.ɵɵpipe(12, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"button\", 9);\n          i0.ɵɵlistener(\"click\", function ContentAddItemComponent_Template_button_click_13_listener() {\n            return ctx.onEditCancel();\n          });\n          i0.ɵɵtext(14);\n          i0.ɵɵpipe(15, \"translate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(16, ContentAddItemComponent_button_16_Template, 3, 4, \"button\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"div\", 11)(18, \"section\", 12)(19, \"div\", 13)(20, \"div\", 14);\n          i0.ɵɵelement(21, \"div\", 15);\n          i0.ɵɵelementStart(22, \"div\", 16)(23, \"label\", 17);\n          i0.ɵɵtext(24);\n          i0.ɵɵpipe(25, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(26, \"div\", 18);\n          i0.ɵɵelement(27, \"input\", 19);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(28, \"div\", 20);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"div\", 21);\n          i0.ɵɵelement(30, \"div\", 15);\n          i0.ɵɵelementStart(31, \"div\", 16)(32, \"label\", 22);\n          i0.ɵɵtext(33);\n          i0.ɵɵpipe(34, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(35, \"div\", 18);\n          i0.ɵɵelement(36, \"input\", 23);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(37, \"div\", 20);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(38, \"div\", 24);\n          i0.ɵɵelement(39, \"div\", 15);\n          i0.ɵɵelementStart(40, \"div\", 16)(41, \"label\", 25);\n          i0.ɵɵtext(42);\n          i0.ɵɵpipe(43, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(44, \"div\", 18);\n          i0.ɵɵelement(45, \"ng-select\", 26);\n          i0.ɵɵpipe(46, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(47, \"div\", 21);\n          i0.ɵɵelement(48, \"div\", 15);\n          i0.ɵɵelementStart(49, \"div\", 16)(50, \"label\", 27);\n          i0.ɵɵtext(51);\n          i0.ɵɵpipe(52, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(53, \"div\", 28)(54, \"div\", 29);\n          i0.ɵɵelement(55, \"input\", 30);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(56, \"div\", 31)(57, \"label\", 32);\n          i0.ɵɵtext(58);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelement(59, \"div\", 33);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(60, \"div\", 21);\n          i0.ɵɵelement(61, \"div\", 15);\n          i0.ɵɵelementStart(62, \"div\", 16)(63, \"div\", 5);\n          i0.ɵɵelement(64, \"input\", 34);\n          i0.ɵɵelementStart(65, \"label\", 35);\n          i0.ɵɵtext(66);\n          i0.ɵɵpipe(67, \"translate\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(68, \"div\", 28)(69, \"div\", 29);\n          i0.ɵɵelement(70, \"input\", 36);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(71, \"div\", 31)(72, \"label\", 32);\n          i0.ɵɵtext(73);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelement(74, \"div\", 33);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(75, \"div\", 24);\n          i0.ɵɵelement(76, \"div\", 15);\n          i0.ɵɵelementStart(77, \"div\", 16)(78, \"label\", 37);\n          i0.ɵɵtext(79);\n          i0.ɵɵpipe(80, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(81, \"div\", 38);\n          i0.ɵɵelement(82, \"input\", 39);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(83, \"div\", 33);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(84, \"div\", 24);\n          i0.ɵɵelement(85, \"div\", 15);\n          i0.ɵɵelementStart(86, \"div\", 16)(87, \"label\", 37);\n          i0.ɵɵtext(88);\n          i0.ɵɵpipe(89, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(90, \"div\", 38);\n          i0.ɵɵelement(91, \"textarea\", 40);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(92, \"div\", 33);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(93, \"div\", 24);\n          i0.ɵɵelement(94, \"div\", 41);\n          i0.ɵɵelementStart(95, \"div\", 16)(96, \"label\", 42);\n          i0.ɵɵtext(97);\n          i0.ɵɵpipe(98, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(99, \"div\", 43);\n          i0.ɵɵelementContainerStart(100, 44);\n          i0.ɵɵelementStart(101, \"div\", 45);\n          i0.ɵɵelement(102, \"app-image-input\", 46);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(103, ContentAddItemComponent_div_103_Template, 3, 3, \"div\", 47);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(104, \"div\", 33);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(105, \"div\", 24);\n          i0.ɵɵelement(106, \"div\", 41);\n          i0.ɵɵelementStart(107, \"div\", 16)(108, \"label\", 42);\n          i0.ɵɵtext(109);\n          i0.ɵɵpipe(110, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(111, \"div\", 38);\n          i0.ɵɵelementContainerStart(112, 48);\n          i0.ɵɵtemplate(113, ContentAddItemComponent_div_113_Template, 5, 9, \"div\", 49)(114, ContentAddItemComponent_button_114_Template, 2, 1, \"button\", 50);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(115, \"div\", 33);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(116, \"div\", 24);\n          i0.ɵɵelement(117, \"div\", 41);\n          i0.ɵɵelementStart(118, \"div\", 16)(119, \"label\", 42);\n          i0.ɵɵtext(120);\n          i0.ɵɵpipe(121, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementContainerStart(122, 51);\n          i0.ɵɵelementStart(123, \"div\", 52)(124, \"div\", 53)(125, \"div\", 3);\n          i0.ɵɵtemplate(126, ContentAddItemComponent_div_126_Template, 4, 5, \"div\", 54);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(127, ContentAddItemComponent_div_127_Template, 9, 4, \"div\", 55);\n          i0.ɵɵelementEnd()()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"formGroup\", ctx.form);\n          i0.ɵɵadvance(7);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 45, \"content-add-item.in_stock\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(12, 47, \"content-add-item.save\"), \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(15, 49, \"content-add-item.cancel\"), \" \");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.isEdit && ctx.isAdmin);\n          i0.ɵɵadvance(7);\n          i0.ɵɵclassProp(\"required\", !ctx.isRTL)(\"required-rtl\", ctx.isRTL);\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(25, 51, \"content-add-item.name\"), \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"readonly\", !ctx.isAdmin);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(34, 53, \"content-add-item.brand\"), \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"readonly\", !ctx.isAdmin);\n          i0.ɵɵadvance(5);\n          i0.ɵɵclassProp(\"required\", !ctx.isRTL)(\"required-rtl\", ctx.isRTL);\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(43, 55, \"content-add-item.units\"), \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(46, 57, \"content-add-item.select\"));\n          i0.ɵɵproperty(\"items\", ctx.validValues == null ? null : ctx.validValues.units)(\"readonly\", !ctx.isAdmin);\n          i0.ɵɵadvance(5);\n          i0.ɵɵclassProp(\"required\", !ctx.isRTL)(\"required-rtl\", ctx.isRTL);\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(52, 59, \"content-add-item.price_per_unit\"), \" \");\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"min\", 0);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(ctx.validValues == null ? null : ctx.validValues.currency);\n          i0.ɵɵadvance(8);\n          i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(67, 61, \"content-add-item.sale_price\"), \" \");\n          i0.ɵɵadvance(7);\n          i0.ɵɵtextInterpolate(ctx.validValues == null ? null : ctx.validValues.currency);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(80, 63, \"content-add-item.fixed_weight_gram\"), \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"min\", 0);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(89, 65, \"content-add-item.description\"), \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"readonly\", !ctx.isAdmin);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(98, 67, \"content-add-item.images\"));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"formArrayName\", ctx.isEdit ? \"new_image\" : \"image\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"formGroup\", ctx.form)(\"blocked\", !ctx.isAdmin);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isAdmin);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(110, 69, \"content-add-item.categories\"), \" \");\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngForOf\", ctx.categoryArrCtrl.controls);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isAdmin);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(121, 71, \"content-add-item.options\"), \" \");\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngForOf\", ctx.optionsArrCtrl.controls);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.listStores.length !== 0);\n        }\n      },\n      dependencies: [i9.NgForOf, i9.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.CheckboxControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.PatternValidator, i1.MinValidator, i1.FormGroupDirective, i1.FormControlName, i1.FormGroupName, i1.FormArrayName, i10.NgSelectComponent, i11.ImageInputComponent, i12.TreeInputComponent, i13.TranslatePipe],\n      styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%]; (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  {// webpackBootstrap var __webpack_modules__ = ({805: (() => {throw new Error('Module build failed (from ./node_modules/sass-loader/dist/cjs.js):nCan\\\\'t find stylesheet to import.n   \\\\2577n66 \\\\2502  @import \\\"~bootstrap/scss/functions.scss\\\";n   \\\\2502          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^n   \\\\2575n  _app-variables.scss 66:9                                             @importn  src/app/routes/content-add-item/content-add-item.component.scss 1:8  root stylesheet');})}); // startup // Load entry module and return exports // This entry module doesn\\\"t tell about it\\\"s top-level declarations so it can't be inlined\\nvar __webpack_exports__ = {}; __webpack_modules__[805](); resource = __webpack_exports__;})()[_ngcontent-%COMP%]   ;[_ngcontent-%COMP%]{}\"]\n    });\n  }\n  return ContentAddItemComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}